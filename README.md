# FLORA

> This repository contains the source code and datasets for paper “FLORA: Unsupervised Knowledge Graph Alignment by Fuzzy Logic”.
> 

## Installation

To install the required packages needed, run the following command:

```bash
pip install -r requirements.txt
```

## Dataset

FLORA uses multiple datasets from different sources:

- [OpenEA](https://github.com/nju-websoft/OpenEA): D_W_15K_V1 and D_W_15K_V2
- [DBP15K](https://github.com/nju-websoft/JAPE): fr_en, ja_en, zh_en
- [OAEI KG Track](https://oaei.ontologymatching.org/2024/knowledgegraph/index.html): memoryalpha-stexpanded, starwars-swtor

We also provide two mini-test datasets: [Person, Restaurant](https://oaei.ontologymatching.org/2010/im/index.html) from OAEI 2010 for quick test.

All datasets and pretrained embeddings used in the paper are on [google drive](https://drive.google.com/file/d/1KGsSvb-RX1wpBzkUlY7DBQkn4-pEY8E_/view?usp=sharing). Download and unzip all files in the `data` folder.

For detailed statistics on each dataset, refer to `statistics.pdf` . Literal embeddings are provided as xxx.pkl files in the `data/emb/` folder of each dataset. To reproduce these embeddings, use: 

```bash
python literals.py <dataset_path> <emb_path>
```

## Running the Code

To produce the alignment results, your could use the following command:

```bash
python main.py --dataset data/OpenEA/D_W_15K_V2/ --alpha 3.0 --init 0.7 --save_file dw-v2.ttl
```

Or you could directly run `bash run.sh` to reproduce the results.

- **Evaluation and Analysis**

The original alignment results (generated by running `main.py`) are stored in the `save` folder by default. To obtain clean results or to evaluate and analyze them, run `analysis.ipynb` block by block, adjusting gold standard path `REF_PATH` and results path `RES_PATH` as necessary.

<!-- ```
@inproceedings{FLORA,
    title = ,
    author = ,
    booktitle = ,
    url = ,
}
``` -->